# nginx config with dangerous network exposure - SHOULD TRIGGER ALERTS

server {
    # Binding to all interfaces - exposed to internet
    listen 0.0.0.0:80;
    listen *:443 ssl;
    
    server_name _;

    location / {
        proxy_pass http://backend:8080;
    }
    
    # Admin interface exposed
    location /admin {
        proxy_pass http://admin-backend:9000;
    }
}

# Database proxy exposed to all interfaces
stream {
    server {
        listen 0.0.0.0:3306;
        proxy_pass mysql-cluster:3306;
    }
    
    server {
        listen 0.0.0.0:6379;
        proxy_pass redis-cluster:6379;
    }
}
